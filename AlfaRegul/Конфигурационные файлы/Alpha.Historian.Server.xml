<?xml version="1.0" encoding="utf-8"?>
<!-- 
<Alpha.Historian.Server> - настройки сервера истории.
	Обязательный атрибут:
		StatPort 			- номер порта, по которому будет открыт доступ к статистики сервера

	Опциональный атрибут: 
		DefaultPrimaryDir 	- путь до основного каталога файлов БД

	Опциональный атрибут:
		MaxPoolMemory - максимальный объём памяти, используемый пулом буферов, в мегабайтах. 
		0 - без ограничения.
		Значение по умолчанию - 512.
		В 64-битном варианте верхняя граница - 128 ГБ.
		
	Опциональный атрибут:
		EnableDCOM - включить (значение 1) или выключить (значение 0) поддержку DCOM.
		Значение по умолчанию - 1.

	Может содержать один дочерний элемент <Bases>.
	Может содержать один дочерний элемент <TwinServer>.
	Может содержать один дочерний элемент <tcp-server>.
-->
<Alpha.Historian.Server StatPort="3388" DefaultPrimaryDir="c:\Alpha.Historian\Databases" MaxPoolMemorySize="512">
	<!--
	<tcp-server> - адреса, по которым доступен сервер.
		Опциональный атрибут:
			default-port - порт по умолчанию, применяемый в дочерних объектах <server-endpoint>, если не порт не задан явно.
			
		Опциональный атрибут:
			idle-sessions-count - количество одновременно удерживаемых неактивных сессий.
			Значение по умолчанию - 0.
			
		Опциональный атрибут:
			idle-sessions-timeout - время ожидания активации неактивных сессий (в секундах).
			Значение по умолчанию - 0.
		
		Может содержать любое количество дочерних элементов <server-endpoint>.
	-->
	<tcp-server default-port=4949 idle-sessions-count=1 idle-sessions-timeout=15>
		<!--
		<server-endpoint> - адрес, по которому доступен сервер.
			Опциональные атрибуты:
				port - порт точки доступа к серверу. 
				Если не задан явно, используется атрибут default-port.
				
				host - хост точки доступа к серверу.
				Значение по умолчанию - "0.0.0.0"(любой адрес, включая 127.0.0.1).
		-->	
		<server-endpoint host="0.0.0.0" />

		<!-- Пример указания адреса с номером порта, отличным от дефолтного -->
		<!-- <server-endpoint host="0.0.0.0" port=9494 /> -->
	</tcp-server>

	<!--
	<Bases> - список БД сервера истории.
		Может содержать дочерние элементы <Base>.
	-->
	<Bases>
		<!--
		<Base> - параметры БД.
			Обязательный атрибут:
				Alias - короткое имя БД (псевдоним), 
				должен быть уникален для сервера истории

			Опциональные атрибуты:
				PrimaryDir 		- путь до файлов БД
				ArchiveDir		- путь до архивных файлов БД
				PreferredCommonCacheLimit - предпочтительный размер кэша общего назначения, в мегабайтах.
					0 - без ограничения;
					Значение по умолчанию - 128.
				ActiveStorageDepth - глубина "активного" хранения (с возможностью сохранения новых данных в этот период), в сутках.
					Значение по умолчанию - 3. Минимальное значение - 1. 
				StorageDepth - общая глубина хранения, в сутках. Значение по умолчанию - 0 (без ограничения). Если указано значение,
					отличное от 0, то оно не может быть меньше значения ActiveStorageDepth.
				VolumeLimit - предельный совокупный объём БД, в мегабайтах. При превышении предела выполняется очистка
					архивных данных до снижения объёма ниже предела, если это возможно. 
					Значение 0 - предел не задан. Является значением по умолчанию.
				ArchiveCompression - алгоритм сжатия архивов.
					none - без сжатия;
					lzma - сжатие алгоритмом LZMA;
					Значение по умолчанию - none.
				BlocksPerCompressedPack - максимальное количество блоков в сжимаемом паке блоков. Чем больше значение этого параметра,
					тем больше коэффициент сжатия, но медленнее точечная выборка.
					Значение по умолчанию - 10.
				Recompress - стратегия пересжатия существующих архивных файлов БД.
					Под пересжатием понимается преобразование архивного файла, сжатого одним алгоритмом сжатия, к новому архивному файлу,
					сжатому другим алгоритмом. Пересжатие архивных файлов происходит при очередной архивации. Архивные файлы, настройки
					сжатия которых совпадают, пропускаются.
					none - пересжатие выключено;
					uncompressed - к пересжатию допускаются только несжатые архивные файлы;
					any - к пересжатию допускаются любые архивные файлы.
					Значение по умолчанию - none.
		-->
		
		<!-- 
			Следующая за этим комментарием строка содержит закомментированное определение базы данных по умолчанию.
			Раскомментируйте или скопируйте его, указав в поле Alias желаемое имя базы данных. 
			Если вы создаёте определение уже имеющиейся базы данных, проверьте, что пути размещения её файлов соответствуют
			путям, указанным в этом файле (с учётом атрибута DefaultPrimaryDir корневого тэга Alpha.Historian.Server).
		-->
		<!-- <Base Alias="default" PreferredCommonCacheLimit="128" ActiveStorageDepth="3" StorageDepth="365" /> -->
		<Base Alias="DB_EVENTS" PreferredCommonCacheLimit="1024" ActiveStorageDepth="3" StorageDepth="365" />
		<Base Alias="DB_HISTORY" PreferredCommonCacheLimit="1024" ActiveStorageDepth="3" StorageDepth="365" />
	</Bases>
	
	<!--
	<TwinServer> - параметры сервера истории для резервирования данных.
		Обязательный атрибут:
			Host 			- имя компьютера
		Опциональный атрибут:
                        InstanceName 	- название экземпляра сервера (по умолчанию: Alpha.Historian.Server)
	-->
<!--
        <TwinServer Host="Computer2" InstanceName="Alpha.Historian.Server.Second"/>
-->	
</Alpha.Historian.Server>
